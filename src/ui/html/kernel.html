<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ClashFox</title>
    <script>
      (function(){
        try {
          var t = localStorage.getItem('lastTheme');
          if (t) {
            document.documentElement.setAttribute('data-theme', t);
            if (document.body) document.body.dataset.theme = t;
            else document.addEventListener('DOMContentLoaded', () => {
              document.body.dataset.theme = t;
            });
          }
        } catch (e) {}
      })();
    </script>
    <link rel="stylesheet" href="../css/styles.css" />
  </head>
  <body data-page="kernel">
    <div class="app">
      <aside class="sidebar" id="menuContainer"></aside>

      <main class="content">
        <header class="topbar" id="topbarContainer"></header>

        <div id="contentRoot" class="content-root">
          <section id="kernel" class="panel active">
            <div class="card install-card">
              <div class="install-header">
                <div>
                  <h3 data-i18n="install.title">Install / Update Mihomo</h3>
                  <div class="install-sub" data-i18n="install.hint">
                    Downloads the latest kernel for your architecture and backs up the previous one.
                  </div>
                </div>
                <div class="install-status" id="installStatus" data-i18n="install.ready">Ready to install.</div>
              </div>
              <div class="install-form">
                <div class="form-row">
                  <label data-i18n="install.github">GitHub Source</label>
                  <select id="githubUser">
                    <option value="vernesong">vernesong</option>
                    <option value="MetaCubeX">MetaCubeX</option>
                  </select>
                </div>
                <div class="form-row is-hidden" id="installVersionRow">
                  <label data-i18n="install.version">Version</label>
                  <input id="installVersion" type="text" data-i18n-placeholder="install.versionPlaceholder" placeholder="e.g. v1.19.0" />
                </div>
              </div>
              <div class="action-row">
                <button class="btn primary" id="installBtn" data-i18n="install.action">Install / Update</button>
                <button class="btn danger" id="cancelInstallBtn" data-i18n="install.cancel">Cancel</button>
              </div>
              <div class="install-progress progress-track" id="installProgress" aria-hidden="true">
                <div class="progress-bar"></div>
              </div>
            </div>

<!--            <div class="card">-->
<!--              <h3 class="iconized current-kernel-icon"><span data-i18n="labels.current">Current</span> <span data-i18n="status.kernel">Kernel</span></h3>-->
<!--              <div class="table" id="kernelCurrentTable"></div>-->
<!--            </div>-->

            <div class="card">
              <div class="card-header-row kernel-list-header">
                <h3 data-i18n="install.kernelsTitle">Kernel List</h3>
                <div class="kernel-list-modes">
                  <button class="icon-btn ghost small kernel-header-icon-btn kernel-refresh-btn" id="kernelRefresh" type="button" data-i18n-tip="actions.refresh" data-position="bottom" data-native-title="false" aria-label="Refresh">
                    <svg viewBox="0 0 24 24" role="presentation" focusable="false">
                      <path d="M17.64 6.36A8 8 0 1 0 20 12h-2a6 6 0 1 1-1.76-4.24L14 10h6V4l-2.36 2.36Z"></path>
                    </svg>
                  </button>
                  <button class="icon-btn ghost small kernel-header-icon-btn kernel-mode-btn is-active" id="kernelModeSwitchBtn" type="button" data-mode="switch" data-i18n-tip="confirm.switchConfirm" data-position="bottom" data-native-title="false" aria-label="Switch mode">
                    <svg viewBox="0 0 24 24" role="presentation" focusable="false">
                      <path d="M7 7h11l-2.6-2.6L17 3l5 5-5 5-1.6-1.4L18 9H7V7Zm10 10H6l2.6 2.6L7 21l-5-5 5-5 1.6 1.4L6 15h11v2Z"></path>
                    </svg>
                  </button>
                  <button class="icon-btn ghost small kernel-header-icon-btn kernel-mode-btn" id="kernelModeManageBtn" type="button" data-mode="manage" data-i18n-tip="backups.title" data-position="bottom" data-native-title="false" aria-label="Manage backups">
                    <svg viewBox="0 0 24 24" role="presentation" focusable="false">
                      <path d="M4 6h16v2H4V6Zm0 5h16v2H4v-2Zm0 5h16v2H4v-2Z"></path>
                    </svg>
                  </button>
                </div>
              </div>
              <div id="kernelSwitchSection">
                <div class="table" id="kernelTable"></div>
                <div class="pagination">
                  <div class="page-controls">
                    <button class="btn ghost" id="kernelPrev">Prev</button>
                    <div class="page-info" id="kernelPageInfo">1 / 1</div>
                    <button class="btn ghost" id="kernelNext">Next</button>
                  </div>
                  <div class="page-size">
                    <span data-i18n="pagination.size">Per page</span>
                    <select id="kernelPageSize">
                      <option value="5">5</option>
                      <option value="10" selected>10</option>
                      <option value="20">20</option>
                      <option value="50">50</option>
                    </select>
                  </div>
                </div>
              </div>
              <div id="kernelManageSection" class="is-hidden">
                <div class="action-row">
                  <button class="btn danger" id="backupsDelete" data-i18n="backups.delete">Delete</button>
                </div>
                <div class="table" id="backupTableFull"></div>
                <div class="pagination">
                  <div class="page-controls">
                    <button class="btn ghost" id="backupsPrev">Prev</button>
                    <div class="page-info" id="backupsPageInfo">1 / 1</div>
                    <button class="btn ghost" id="backupsNext">Next</button>
                  </div>
                  <div class="page-size">
                    <span data-i18n="pagination.size">Per page</span>
                    <select id="backupsPageSize">
                      <option value="5">5</option>
                      <option value="10" selected>10</option>
                      <option value="20">20</option>
                      <option value="50">50</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>
      </main>
    </div>
    <div id="overlayRoot"></div>
    <script type="module" src="../js/app.js"></script>
  </body>
</html>
